<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="800" height="600" fill="white"/>
  
  <!-- Title -->
  <text x="400" y="30" font-family="Arial" font-size="20" font-weight="bold" text-anchor="middle">POS Coffee Shop Infrastructure</text>
  
  <!-- Middleware -->
  <rect x="300" y="60" width="200" height="80" rx="10" fill="#E6CCE6" stroke="#333" stroke-width="2"/>
  <text x="400" y="100" font-family="Arial" font-size="14" text-anchor="middle">Middleware</text>
  <text x="400" y="120" font-family="Arial" font-size="12" text-anchor="middle" font-style="italic">(Auth Protection)</text>
  
  <!-- Next.js Application -->
  <rect x="300" y="200" width="200" height="80" rx="10" fill="#B7E0FF" stroke="#333" stroke-width="2"/>
  <text x="400" y="240" font-family="Arial" font-size="14" text-anchor="middle">Next.js Application</text>
  <text x="400" y="260" font-family="Arial" font-size="12" text-anchor="middle" font-style="italic">(Vercel::Next::Application)</text>
  
  <!-- API Routes -->
  <rect x="300" y="340" width="200" height="80" rx="10" fill="#D4F0C4" stroke="#333" stroke-width="2"/>
  <text x="400" y="380" font-family="Arial" font-size="14" text-anchor="middle">API Routes</text>
  <text x="400" y="400" font-family="Arial" font-size="12" text-anchor="middle" font-style="italic">(Next.js API Endpoints)</text>
  
  <!-- Supabase Auth -->
  <rect x="100" y="480" width="200" height="80" rx="10" fill="#E6E6E6" stroke="#333" stroke-width="2"/>
  <text x="200" y="520" font-family="Arial" font-size="14" text-anchor="middle">Supabase Authentication</text>
  <text x="200" y="540" font-family="Arial" font-size="12" text-anchor="middle" font-style="italic">(Supabase::Auth::Service)</text>
  
  <!-- Supabase Database -->
  <ellipse cx="500" cy="520" rx="120" ry="60" fill="#FFCFB3" stroke="#333" stroke-width="2"/>
  <text x="500" y="520" font-family="Arial" font-size="14" text-anchor="middle">Supabase Database</text>
  <text x="500" y="540" font-family="Arial" font-size="12" text-anchor="middle" font-style="italic">(Supabase::Database::Service)</text>
  
  <!-- Static Assets -->
  <rect x="600" y="200" width="120" height="80" fill="#FFF2B3" stroke="#333" stroke-width="2"/>
  <text x="660" y="240" font-family="Arial" font-size="14" text-anchor="middle">Static Assets</text>
  <text x="660" y="260" font-family="Arial" font-size="12" text-anchor="middle" font-style="italic">(Images &amp; Media)</text>
  
  <!-- Connections with arrows -->
  <!-- Middleware to Next.js (dashed) -->
  <line x1="400" y1="140" x2="400" y2="190" stroke="#333" stroke-width="2" stroke-dasharray="5,3"/>
  <polygon points="400,200 395,190 405,190" fill="#333"/>
  
  <!-- Next.js to API Routes -->
  <line x1="400" y1="280" x2="400" y2="330" stroke="#333" stroke-width="2"/>
  <polygon points="400,340 395,330 405,330" fill="#333"/>
  
  <!-- Next.js to Static Assets -->
  <line x1="500" y1="240" x2="590" y2="240" stroke="#333" stroke-width="2"/>
  <polygon points="600,240 590,235 590,245" fill="#333"/>
  
  <!-- API Routes to Supabase Auth -->
  <line x1="300" y1="380" x2="210" y2="470" stroke="#333" stroke-width="2"/>
  <polygon points="200,480 205,465 215,475" fill="#333"/>
  
  <!-- API Routes to Supabase Database -->
  <line x1="400" y1="420" x2="400" y2="450" stroke="#333" stroke-width="2"/>
  <line x1="400" y1="450" x2="500" y2="450" stroke="#333" stroke-width="2"/>
  <line x1="500" y1="450" x2="500" y2="460" stroke="#333" stroke-width="2"/>
  <polygon points="500,460 495,450 505,450" fill="#333"/>
  
  <!-- Next.js to Supabase Auth -->
  <line x1="300" y1="240" x2="250" y2="240" stroke="#333" stroke-width="2"/>
  <line x1="250" y1="240" x2="250" y2="470" stroke="#333" stroke-width="2"/>
  <polygon points="250,480 245,470 255,470" fill="#333"/>
  
  <!-- Next.js to Supabase Database -->
  <line x1="500" y1="240" x2="550" y2="240" stroke="#333" stroke-width="2"/>
  <line x1="550" y1="240" x2="550" y2="450" stroke="#333" stroke-width="2"/>
  <line x1="550" y1="450" x2="500" y2="450" stroke="#333" stroke-width="2"/>
  <polygon points="500,460 495,450 505,450" fill="#333"/>
</svg>